---
import TagList from './TagList.astro';

interface Props {
  slug: string;
  title: string;
  description: string;
  date: Date;
  tags?: string[];
  readingTime: number;
}

const { slug, title, description, date, tags = [], readingTime } = Astro.props;

const formattedDate = date.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric',
});
---

<article class="py-6 border-b border-gray-200 last:border-b-0">
  <a
    href={`/articles/${slug}`}
    class="group block cursor-pointer"
  >
    <h2 class="text-xl font-semibold text-gray-900 group-hover:text-primary-600 transition-colors mb-2">
      {title}
    </h2>

    <div class="flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-gray-500 mb-2">
      <time datetime={date.toISOString()}>{formattedDate}</time>
      <span class="text-gray-300">|</span>
      <span>{readingTime} min read</span>
    </div>

    <p class="text-gray-600 line-clamp-2 mb-3">
      {description}
    </p>

    {tags.length > 0 && <TagList tags={tags} />}
  </a>
</article>
